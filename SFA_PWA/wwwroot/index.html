<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SFA_PWA</title>
    <base href="/" />
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
        <link href="css/CafeList.responsive.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="sfa.png" />
    <link href="SFA_PWA.styles.css" rel="stylesheet" />
    <link href="manifest.webmanifest" rel="manifest" />
    <link rel="apple-touch-icon" sizes="512x512" href="sfa.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="sfa.png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>

<body>
    <div id="app">
        <div class="loading-spinner">
            <span class="loading-emoji">ğŸš´â€â™€ï¸</span>
            <div class="loading-progress-text"></div>
        </div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ğŸ—™</span>
    </div>
    <script src="js/screen.js"></script>
    <script src="js/pwa-install.js"></script>
    <script src="js/buildinfo.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/site.js"></script>
    <script src="_framework/blazor.webassembly.js"></script>
    <script>
        // Register service worker with aggressive update checking
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js', { 
                updateViaCache: 'none',
                scope: '/' 
            }).then(registration => {
                console.log('Service Worker registered with scope:', registration.scope);
                // Check for updates every time the page loads
                registration.update();
            }).catch(error => {
                console.error('Service Worker registration failed:', error);
            });
        }
    </script>
</body>

</html>
